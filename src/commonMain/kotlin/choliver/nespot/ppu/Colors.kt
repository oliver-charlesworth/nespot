package choliver.nespot.ppu

import choliver.nespot.nes.VideoSink.ColorPackingMode

fun createColorMap(mode: ColorPackingMode) = COLORS
  .chunked(3)
  .map(mode.convert)
  .map { it[3] + 256 * (it[2] + 256 * (it[1] + 256 * it[0])) }
  .chunked(64)

// TODO - can we do our own de-emphasis conversions?

/**
 * Palette generated using [PalettePrint], with a PAL file from https://bisqwit.iki.fi/utils/nespalette.php.
 *
 * Settings:
 *   - Hue = 0.0
 *   - Saturation = 1.5
 *   - Contrast = 1.0
 *   - Brightness = 1.0
 *   - Gamma = 1.8
 */
private val COLORS = listOf(
  82, 82, 82,
  0, 28, 114,
  12, 11, 146,
  42, 0, 143,
  71, 0, 104,
  87, 0, 46,
  85, 4, 0,
  65, 18, 0,
  35, 36, 0,
  6, 52, 0,
  0, 61, 0,
  0, 58, 4,
  0, 46, 57,
  0, 0, 0,
  0, 0, 0,
  0, 0, 0,
  160, 160, 160,
  14, 77, 206,
  50, 48, 255,
  98, 27, 249,
  142, 18, 191,
  167, 20, 104,
  164, 35, 21,
  134, 60, 0,
  87, 89, 0,
  40, 115, 0,
  8, 127, 0,
  0, 124, 36,
  0, 105, 122,
  0, 0, 0,
  0, 0, 0,
  0, 0, 0,
  254, 255, 255,
  83, 161, 255,
  130, 127, 255,
  186, 101, 255,
  235, 89, 255,
  255, 93, 192,
  255, 111, 94,
  225, 142, 24,
  173, 176, 0,
  118, 204, 0,
  75, 218, 35,
  54, 214, 112,
  57, 193, 213,
  60, 60, 60,
  0, 0, 0,
  0, 0, 0,
  254, 255, 255,
  180, 215, 255,
  201, 200, 255,
  226, 188, 255,
  246, 183, 255,
  255, 184, 229,
  255, 193, 185,
  242, 207, 150,
  220, 221, 131,
  196, 234, 133,
  176, 240, 156,
  166, 238, 193,
  167, 229, 237,
  169, 169, 169,
  0, 0, 0,
  0, 0, 0,
  83, 49, 45,
  0, 6, 69,
  12, 0, 99,
  40, 0, 98,
  67, 0, 69,
  84, 0, 25,
  85, 0, 0,
  65, 6, 0,
  36, 18, 0,
  9, 29, 0,
  0, 33, 0,
  0, 29, 0,
  0, 17, 23,
  0, 0, 0,
  0, 0, 0,
  0, 0, 0,
  161, 108, 101,
  15, 39, 138,
  50, 20, 182,
  95, 8, 181,
  137, 3, 138,
  163, 8, 70,
  164, 22, 8,
  134, 39, 0,
  89, 59, 0,
  45, 76, 0,
  12, 83, 0,
  0, 76, 6,
  0, 57, 67,
  0, 0, 0,
  0, 0, 0,
  0, 0, 0,
  255, 181, 171,
  85, 101, 211,
  130, 78, 255,
  183, 61, 255,
  230, 55, 212,
  255, 61, 136,
  255, 80, 60,
  226, 101, 4,
  176, 125, 0,
  124, 145, 0,
  82, 152, 4,
  59, 145, 57,
  58, 123, 132,
  61, 33, 29,
  0, 0, 0,
  0, 0, 0,
  255, 181, 171,
  182, 147, 187,
  203, 137, 206,
  226, 129, 206,
  246, 126, 187,
  255, 129, 156,
  255, 138, 123,
  244, 147, 93,
  223, 157, 77,
  200, 166, 77,
  180, 169, 93,
  170, 166, 121,
  169, 156, 155,
  170, 115, 108,
  0, 0, 0,
  0, 0, 0,
  40, 74, 30,
  0, 23, 64,
  0, 7, 87,
  11, 0, 81,
  30, 0, 48,
  45, 0, 8,
  46, 1, 0,
  33, 14, 0,
  12, 32, 0,
  0, 49, 0,
  0, 58, 0,
  0, 54, 0,
  0, 40, 23,
  0, 0, 0,
  0, 0, 0,
  0, 0, 0,
  94, 147, 77,
  0, 68, 128,
  15, 40, 163,
  47, 20, 155,
  78, 10, 105,
  101, 14, 42,
  102, 29, 0,
  82, 54, 0,
  49, 83, 0,
  16, 108, 0,
  0, 123, 0,
  0, 116, 5,
  0, 96, 66,
  0, 0, 0,
  0, 0, 0,
  0, 0, 0,
  160, 236, 136,
  35, 147, 193,
  67, 114, 231,
  107, 88, 221,
  143, 74, 167,
  169, 81, 96,
  170, 101, 26,
  147, 131, 0,
  109, 164, 0,
  69, 193, 0,
  39, 210, 0,
  20, 202, 49,
  19, 179, 123,
  25, 53, 17,
  0, 0, 0,
  0, 0, 0,
  160, 236, 136,
  105, 199, 159,
  120, 184, 174,
  138, 172, 170,
  153, 166, 149,
  164, 169, 119,
  164, 178, 87,
  155, 192, 62,
  139, 206, 50,
  121, 218, 53,
  107, 225, 71,
  97, 222, 98,
  96, 212, 131,
  100, 155, 82,
  0, 0, 0,
  0, 0, 0,
  46, 46, 24,
  0, 6, 52,
  0, 0, 74,
  14, 0, 71,
  32, 0, 46,
  47, 0, 7,
  48, 0, 0,
  34, 4, 0,
  15, 16, 0,
  0, 26, 0,
  0, 32, 0,
  0, 28, 0,
  0, 16, 17,
  0, 0, 0,
  0, 0, 0,
  0, 0, 0,
  103, 103, 67,
  0, 37, 111,
  20, 19, 144,
  52, 6, 140,
  81, 1, 101,
  104, 5, 39,
  106, 18, 0,
  85, 35, 0,
  53, 55, 0,
  22, 72, 0,
  1, 81, 0,
  0, 74, 0,
  0, 56, 56,
  0, 0, 0,
  0, 0, 0,
  0, 0, 0,
  173, 174, 121,
  45, 98, 170,
  77, 76, 206,
  115, 58, 202,
  149, 50, 160,
  175, 56, 89,
  176, 75, 21,
  153, 96, 0,
  117, 119, 0,
  79, 139, 0,
  49, 149, 0,
  29, 142, 37,
  28, 120, 109,
  30, 30, 12,
  0, 0, 0,
  0, 0, 0,
  173, 174, 121,
  117, 142, 141,
  132, 132, 155,
  149, 124, 154,
  163, 120, 137,
  174, 123, 108,
  175, 131, 76,
  165, 141, 54,
  150, 151, 43,
  133, 160, 44,
  119, 164, 58,
  109, 161, 84,
  108, 152, 116,
  109, 110, 72,
  0, 0, 0,
  0, 0, 0,
  54, 53, 106,
  0, 16, 122,
  6, 4, 155,
  27, 0, 148,
  48, 0, 111,
  59, 0, 56,
  55, 0, 6,
  36, 1, 0,
  11, 12, 0,
  0, 26, 0,
  0, 35, 0,
  0, 36, 16,
  0, 28, 70,
  0, 0, 0,
  0, 0, 5,
  0, 0, 5,
  115, 114, 196,
  5, 55, 221,
  38, 35, 255,
  74, 15, 255,
  107, 6, 203,
  123, 5, 121,
  117, 13, 41,
  88, 29, 0,
  48, 49, 0,
  15, 72, 0,
  0, 86, 1,
  0, 87, 58,
  0, 75, 142,
  0, 0, 5,
  0, 0, 5,
  0, 0, 5,
  190, 189, 255,
  60, 123, 255,
  102, 99, 255,
  145, 74, 255,
  181, 60, 255,
  200, 59, 223,
  193, 71, 129,
  161, 92, 58,
  114, 115, 24,
  73, 142, 30,
  43, 158, 73,
  29, 159, 150,
  35, 146, 245,
  36, 36, 79,
  0, 0, 5,
  0, 0, 5,
  190, 189, 255,
  133, 161, 255,
  153, 151, 255,
  171, 139, 255,
  187, 133, 255,
  194, 133, 255,
  191, 138, 229,
  178, 147, 195,
  158, 158, 177,
  140, 170, 180,
  125, 176, 203,
  118, 177, 239,
  121, 171, 255,
  122, 121, 206,
  0, 0, 5,
  0, 0, 5,
  53, 37, 58,
  0, 4, 74,
  5, 0, 103,
  25, 0, 101,
  45, 0, 73,
  56, 0, 33,
  55, 0, 0,
  36, 0, 0,
  11, 8, 0,
  0, 18, 0,
  0, 23, 0,
  0, 21, 0,
  0, 14, 27,
  0, 0, 0,
  0, 0, 0,
  0, 0, 0,
  114, 88, 122,
  5, 33, 146,
  36, 15, 190,
  70, 3, 186,
  101, 0, 145,
  119, 0, 83,
  116, 7, 23,
  88, 22, 0,
  47, 41, 0,
  17, 58, 0,
  0, 66, 0,
  0, 64, 16,
  0, 51, 74,
  0, 0, 0,
  0, 0, 0,
  0, 0, 0,
  189, 152, 201,
  58, 88, 227,
  100, 66, 255,
  140, 49, 255,
  175, 41, 226,
  194, 43, 157,
  192, 56, 86,
  160, 75, 22,
  113, 98, 0,
  75, 117, 0,
  46, 127, 23,
  31, 124, 76,
  33, 110, 147,
  35, 22, 40,
  0, 0, 0,
  0, 0, 0,
  189, 152, 201,
  132, 125, 212,
  151, 115, 231,
  168, 107, 229,
  183, 103, 212,
  191, 104, 183,
  190, 110, 152,
  177, 119, 120,
  157, 129, 103,
  140, 137, 105,
  126, 141, 121,
  118, 140, 147,
  119, 134, 178,
  120, 94, 130,
  0, 0, 0,
  0, 0, 0,
  33, 48, 50,
  0, 12, 72,
  0, 2, 94,
  9, 0, 88,
  28, 0, 55,
  38, 0, 17,
  37, 0, 0,
  24, 1, 0,
  6, 11, 0,
  0, 25, 0,
  0, 34, 0,
  0, 32, 0,
  0, 24, 33,
  0, 0, 0,
  0, 0, 0,
  0, 0, 0,
  81, 106, 110,
  0, 49, 142,
  12, 29, 176,
  44, 10, 167,
  74, 2, 117,
  90, 3, 58,
  88, 12, 4,
  68, 27, 0,
  38, 47, 0,
  7, 70, 0,
  0, 84, 0,
  0, 81, 23,
  0, 68, 84,
  0, 0, 0,
  0, 0, 0,
  0, 0, 0,
  142, 178, 183,
  30, 113, 219,
  60, 89, 255,
  99, 65, 246,
  134, 51, 191,
  152, 54, 124,
  150, 67, 57,
  127, 87, 10,
  92, 110, 0,
  54, 137, 0,
  25, 153, 28,
  12, 150, 83,
  14, 135, 154,
  19, 32, 33,
  0, 0, 0,
  0, 0, 0,
  142, 178, 183,
  93, 151, 198,
  107, 140, 213,
  124, 129, 209,
  139, 123, 186,
  147, 124, 158,
  146, 130, 128,
  136, 139, 103,
  121, 150, 91,
  104, 161, 94,
  90, 168, 114,
  83, 167, 140,
  84, 160, 171,
  87, 113, 117,
  0, 0, 0,
  0, 0, 0,
  37, 37, 37,
  0, 3, 57,
  0, 0, 79,
  11, 0, 76,
  29, 0, 50,
  40, 0, 14,
  38, 0, 0,
  25, 0, 0,
  7, 8, 0,
  0, 18, 0,
  0, 23, 0,
  0, 21, 0,
  0, 14, 21,
  0, 0, 0,
  0, 0, 0,
  0, 0, 0,
  88, 88, 88,
  0, 33, 119,
  16, 15, 152,
  47, 3, 148,
  76, 0, 109,
  92, 0, 51,
  90, 7, 0,
  70, 22, 0,
  40, 41, 0,
  10, 58, 0,
  0, 66, 0,
  0, 64, 8,
  0, 51, 63,
  0, 0, 0,
  0, 0, 0,
  0, 0, 0,
  152, 152, 152,
  37, 88, 186,
  68, 66, 222,
  105, 49, 218,
  138, 41, 175,
  157, 43, 109,
  154, 55, 44,
  132, 75, 2,
  97, 98, 0,
  60, 117, 0,
  32, 127, 7,
  19, 124, 56,
  20, 110, 123,
  22, 22, 22,
  0, 0, 0,
  0, 0, 0,
  152, 152, 152,
  101, 125, 166,
  116, 115, 180,
  132, 107, 178,
  146, 103, 161,
  154, 104, 134,
  153, 110, 105,
  143, 119, 81,
  128, 129, 69,
  112, 137, 70,
  99, 141, 85,
  92, 140, 110,
  92, 134, 140,
  94, 94, 94,
  0, 0, 0,
  0, 0, 0
)

